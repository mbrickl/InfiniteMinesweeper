{"ts":1346455843947,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"WIN_VAL=10\nLOSS_VAL=-10\n\n# Square click handler\n# 1 = Primary mouse button (left)\n# 2 = Middle mouse button\n# 3 = Alternate mouse button (right)\nsqClick = (target) ->\n    switch target.which\n        when \"1\" then sqLeftClick(target)\n        when \"3\" then sqRightClick(target)\n        else return true\n\n# Handle left click on square\nsqLeftClick = (target) ->\n    window.game.field.clickSquare(target.id, vals, !gInProgress)\n    window.game.startClock()\n    for val in vals\n        switch val.result\n            when \"boom\" then updateBoard(target, \"mine\", \"lose\")\n            when \"money\" then updateBoard(target, val.newClass, \"win\")\n    true\n            \n# Handle right click on square\nsqRightClick = (target) ->\n    val = window.game.field.markSquare(target.id)\n    updateBoard(target, val.newClass, \"mark\")\n    true\n    \n##Update board display and score\nupdateBoard = (target, newClass, status) ->\n    if not target.hasClass(newClass)\n        target.removeClass()\n        target.addClass(\"square\")\n        target.addClass(newClass)\n    #Update score if necessary\n    switch status\n        when \"win\"\n            window.game.updateScore(WIN_VAL)\n        when \"lose\"\n            window.game.updateScore(LOSS_VAL)\n    true        \n    \n    \n    "]],"start1":0,"start2":0,"length1":0,"length2":1245}]],"length":1245}
